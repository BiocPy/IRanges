cmake_minimum_required(VERSION 3.24)

project(iranges
    VERSION 1.0.0
    DESCRIPTION "Building the iranges cpp library"
    LANGUAGES CXX)

# Importing all of the dependencies with pinned versions (even for transitive dependencies).
# include(FetchContent)

# FetchContent_Declare(
#   superintervals
#   GIT_REPOSITORY https://github.com/kcleal/superintervals
#   GIT_TAG v0.2.5
# )
# FetchContent_MakeAvailable(superintervals)

# Defining the targets.
set(TARGET iranges)

find_package(pybind11 CONFIG)

# pybind11 method:
pybind11_add_module(${TARGET}
    src/iranges_cpp.cpp
)

# Include directories
# target_include_directories(${TARGET} PRIVATE
#     ${superintervals_SOURCE_DIR}/src
# )

set_property(TARGET ${TARGET} PROPERTY CXX_STANDARD 17)

# Link libraries
target_link_libraries(${TARGET} PRIVATE 
    pybind11::pybind11
)

set_target_properties(${TARGET} PROPERTIES
    OUTPUT_NAME lib_iranges
    PREFIX ""
)
